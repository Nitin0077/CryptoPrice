<app-navbar></app-navbar>

<div class="container">
  <div class="center-box">
    <div class="title-box">
      <h2>Cryptocurrency Prices Live</h2>
      <span>Top Coins by Market Cap</span>
    </div>

    <div class="component-box">
      <!-- Card 1 -->
      <div class="card">
        <div class="card-header">
          <a [routerLink]="['/overview',{endpont:'coins/map'}]">Global Market Overview</a>
        </div>
         <div class="card-body">
      <p><strong>Total Market Cap:</strong> ${{ overViewData.cap | number:'1.0-0' }}</p>
      <p><strong>24h Volume:</strong> ${{ overViewData.volume | number:'1.0-0' }}</p>
      <p><strong>Bitcoin Dominance:</strong> {{ overViewData.btcDominance | percent:'1.2-2' }}</p>
      <p><strong>Cryptos:</strong> {{ overViewData.currencies }}</p>
      <p><strong>Exchanges:</strong> {{ overViewData.exchanges }}</p>
      <p><strong>Liquidity:</strong> ${{ overViewData.liquidity | number:'1.0-0' }}</p>
    </div>
      </div>

      <!-- Card 2 -->
      <div class="card">
  <div class="card-header">
    <a routerLink="/newsDataComponant">Top Gainers (India)</a>
  </div>
  <div class="card-body">
    <div *ngFor="let stock of indiaTrending.trending_stocks.top_gainers | slice:0:3">
      <p><strong>{{ stock.company_name }}</strong> - ₹{{ stock.price }}</p>
      <p>Change: {{ stock.percent_change }}%</p>
    </div>
  </div>
</div>


      <!-- Card 3 -->
      <div class="card">
        <div class="card-header">
          <a href="#">Upcoming IPOs</a>
        </div>
        <div class="card-body">
          <ul>
  @for (ipo of indiaIpo.upcoming.slice(0,8); track ipo.name) {
    <li>
      <strong>{{ ipo.name }}</strong> — Starts on {{ ipo.bidding_start_date }}
    </li>
  }
</ul>

        </div>
      </div>
    </div>

    <div class="coin-info">
        <table class="crypto-table">
  <thead>
    <tr>
      <th>#</th>
      <th>Coin</th>
      <th>Price</th>
      <th>Market Cap</th>
      <th>Volume 24h</th>
      <th>Liquidity</th>
      <th>All-time High</th>
      <th>1h</th>
      <th>24h</th>
      <th>7d</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let coin of dataSource; let i = index">
      <td>{{ i + 1 }}</td>
      <td class="coin-info">
        <img [src]="coin.png32" alt="{{ coin.name }}" />
        <div>
          <strong [routerLink]="['/coin-info',coin.code]">{{ coin.code }}</strong>
          <span>{{ coin.name }}</span>
        </div>
      </td>
      <td>${{ coin.rate | number: '1.2-2' }}</td>
      <td>${{ coin.cap / 1e9 | number: '1.2-2' }} B</td>
      <td>${{ coin.volume / 1e9 | number: '1.2-2' }} B</td>
      <td>${{ coin.liquidity / 1e6 | number: '1.2-2' }} M</td>
      <td>${{ coin.allTimeHighUSD | number: '1.0-0' }}</td>
      <td [ngClass]="getColor(coin.delta?.hour)">
  {{ getPercentChange(coin.delta?.hour) | percent: '1.2-2' }}
</td>

      <td [ngClass]="getColor(coin.delta?.day)">
        {{ getPercentChange(coin.delta?.day) | percent: '1.2-2' }}
      </td>
      <td [ngClass]="getColor(coin.delta?.week)">
        {{getPercentChange(coin.delta?.week) | percent: '1.2-2' }}
      </td>
    </tr>
  </tbody>
</table>

    </div>
  </div>
</div>
